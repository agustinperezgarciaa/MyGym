<section>
  <div class="page-header">
    <div class="row">
      <div class="col-md-4" style="width: 25.333333%;">
        <h2>Historial de Cobros</h2>
      </div>
      <div class="col-md-1" style="margin-top: 1.5em; width: 5%;">
        <h4>Desde:</h4>
      </div>
      <div class="col-md-2" style="margin-top: 1.5em; width:15.666667%">
        <input class="form-control" type="date" ng-model="vm.search" placeholder="Buscar" ng-change="vm.joingFilters()" />
      </div>
      <div class="col-md-1" style="margin-top: 1.5em; width: 4.6%;">
        <h4>Hasta:</h4>
      </div>
      <div class="col-md-2" style="margin-top: 1.5em; width:15.666667%">
        <input class="form-control" type="date" ng-model="vm.searchTo" placeholder="Buscar" ng-change="vm.joingFilters()" />
      </div>

      <div class="col-md-2" style="margin-top: 1.5em; width:15.666667%">
        <input class="form-control col-md-4" type="text" ng-model="vm.searchUsers" placeholder="Cliente" ng-change="vm.joingFilters()" />
      </div>
      <div class="col-md-1" style="margin-top: 1.5em; width: 4.6%;">
        <h4>Total:&nbsp${{vm.totalAmount}}</h4>
      </div>
    </div>
  </div>
  <div class="list-group">
    <a ng-repeat="cobro in vm.pagedItems" class="list-group-item">
      <small class="list-group-item-text">
        Cobro realizado el 
        <span ng-bind="cobro.created | date:'dd/MM/yyyy'"></span>
        por
        <span ng-if="cobro.employee" ng-bind="cobro.employee.displayName"></span>
        <span ng-if="!cobro.employee">Empleado eliminado</span>
        a
        <span ng-if="cobro.user" ng-bind="cobro.user.displayName"></span>
        <span ng-if="!cobro.user">Cliente eliminado</span>
      </small>
      <h4 class="list-group-item-heading"></h4>
      <h3 class="list-group-item-heading"><small>$ {{cobro.amount}} (en {{cobro.disciplineTitle}}) por el período entre el {{cobro.firstPeriod | date:'dd/MM/yyyy'}} hasta el {{cobro.lastPeriod | date:'dd/MM/yyyy'}}</small></h3>
    </a>
  </div>
  <div class="alert alert-warning text-center" ng-if="vm.cobros.$resolved && !vm.cobros.length">
    No hay cobros registrados, ¿desea <a ui-sref="cobroscreate">crear uno?</a>
  </div>
  <uib-pagination boundary-links="true" max-size="8" items-per-page="vm.itemsPerPage" total-items="vm.filterLength" ng-model="vm.currentPage" ng-change="vm.pageChanged()"></uib-pagination>
</section>
